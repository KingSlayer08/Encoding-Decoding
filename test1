//convert the given line into ASCII
//generate a random no
//add this random no to ASCII of each character for encoding  and the same no for decoding
#include <string.h>
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
void enc(char *,int);
void dec(char *,int);
void ex();
void main()
{
	system("COLOR B4");
	int i,r,ch;
	char a[50];
	while(1)
	{
		printf("\n<--------------------------------------------------------------------------------------------------------------------->");
		printf("\n\t\t\t\t\t\t1.Input a line\n\t\t\t\t\t\t2.Encode the line\n\t\t\t\t\t\t3.Decode the line\n\t\t\t\t\t\t4.Exit\n");
		printf("\t\t\t\t\t\tEnter your choice: ");
		scanf("%d",&ch);
		printf("\n");
		switch(ch)
		{
			case 1: 
				srand(time(NULL));
				r = rand();
				printf("\n\t\t\tEnter a sentence: ");
				fflush(stdin);
				gets(a);
				break;
			case 2:
				enc(a,r);
				break;
			case 3: 
				dec(a,r);
				break;
			case 4:
				ex();
			default:
				printf("\n\t\t\t\t\t\tEnter a valid choice!");
				break;				
		}
	}
}
void enc(char *a,int r)
{
	int i;
	char n[50];
	printf("\n\n\t\t\t\t\t\tGenerated random no: %d\n",r);				//generated random number
	for(i=0;i<strlen(a);i++)
	{
		n[i]=r+a[i];				//Encoding
	}
	printf("\n\t\t\t\t\tEncoded value::");
	for(i=0;i<strlen(n);i++)				
	{
		printf("%c",n[i]);			//printing ASCII + random in char
	}		
	for(i=0;i<strlen(n);i++)
	{
		a[i]=n[i];
	}
}
void dec(char *a,int r)
{
	int i;
	printf("\n\t\t\t\t\t\tDecoded value::\n\t\t\t\t\t");
	for(i=0;i<strlen(a);i++)		//decoding
	{
		a[i]=a[i]-r;	
		printf("%c",a[i]);			//printing the original sentence 
	}
}
void ex()
{
	printf("\n\t\t\t\t\t\t***************");
	printf("\n\t\t\t\t\t\t*             *");
	printf("\n\t\t\t\t\t\t*SEE YOU SOON!*");
	printf("\n\t\t\t\t\t\t*             *");
	printf("\n\t\t\t\t\t\t***************");
	printf("\n<--------------------------------------------------------------------------------------------------------------------->");
	exit(1);
}
